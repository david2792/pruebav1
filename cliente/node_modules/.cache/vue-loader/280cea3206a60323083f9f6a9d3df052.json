{"remainingRequest":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\src\\views\\servicio\\FormularioServicio.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\src\\views\\servicio\\FormularioServicio.vue","mtime":1611168408000},{"path":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DAVID\\Downloads\\FRONTEND-master\\FRONTEND-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAvLyAgbWVuc2FqZTonJywKICAgICAgbm90aWZpY2FjaW9uOjAsCiAgICAgIHRva2VuX2NvbmZpZ3VyYXRpb246IFtdLAogICAgICBDb2RpZ29SdWxlczogWyh2KSA9PiAhIXYgfHwgIkNvZGlnbyBCYXJyYSByZXF1ZXJpZG8iXSwKICAgICAgRGVzY3JpcGNpb25SdWxlczogWyh2KSA9PiAhIXYgfHwgIkRlc2NyaXBjaW9uIHJlcXVlcmlkbyJdLAogICAgICBEZXBvc2l0b1J1bGVzOiBbKHYpID0+ICEhdiB8fCAiRGVwb3NpdG8gcmVxdWVyaWRvIl0sCiAgICAgIFByZWNpb2NSdWxlczogWyh2KSA9PiAhIXYgfHwgIlByZWNpbyBDb21wcmEgcmVxdWVyaWRvIl0sCiAgICAgIFByZWNpaW92UnVsZXM6IFsodikgPT4gISF2IHx8ICJQcmVjaW8gVmVudGEgcmVxdWVyaWRvIl0sCiAgCgogICAgfTsKICB9LAogIC8vIG5hbWU6ICdGb3JtdWxhcmlvUHJvdmVlZG9yJywKCiAgbW91bnRlZCgpIHsKICAgIGxldCBoZWFkZXIgPSB7ICJhdXRoLXRva2VuIjogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfTsKICAgIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbiA9IHsgaGVhZGVyczogaGVhZGVyIH07CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGVwb3NpdG9zIiwgdGhpcy50b2tlbl9jb25maWd1cmF0aW9uKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbInZEZXBvc2l0byIsInZTZXJ2aWNpbyJdKSwKICAgIG1vZGFsOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RhbDsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInN3aXRjaERpYWxvZyIsIHZhbHVlKTsKICAgICAgfSwKICAgICAgLi4ubWFwR2V0dGVycyhbInNldFByb2R1Y3RvIl0pLAogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgIGNyZWF0ZUZyZXNoUHJvdmVlZG9yKCkgewogICAgICByZXR1cm4gewogICAgICAgIENvZGlnb1Byb2R1Y3RvOiAiIiwKICAgICAgICBDb2RpZ29CYXJyYTogIiIsCiAgICAgICAgRGVzY3JpcGNpb246ICIiLAogICAgICAgIFByZWNpb0NvbXByYTogIiIsCiAgICAgICAgUHJlY2lvVmVudGFNaW5vcmlzdGE6ICIiLAogICAgICAgIENvZGlnb0RlcG9zaXRvOiAiIiwKICAgICAgfTsKICAgIH0sCiAgICBjYXB0dXJhcmNvZGlnbyh0ZXh0bykgewogICAgICBjb25zdCBjb2QgPSB0ZXh0by5zcGxpdCgiICIpWzBdOwogICAgICByZXR1cm4gY29kOwogICAgfSwKICAgICByZXNldCAoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCkKICAgICAgfSwKICAgIGxpbXBpYXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJsaW1waWFyIikKICAgICAgLy8gIHRoaXMudlByb2R1Y3RvLkNvZGlnb1Byb2R1Y3RvPSIiLAogICAgICAgICAgdGhpcy52U2VydmljaW8uUHJvZHVjdG8gPSB0aGlzLmNyZWF0ZUZyZXNoUHJvdmVlZG9yKCk7CiAgICAgICAgIHRoaXMubm90aWZpY2FjaW9uPTA7CiAgICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICAKICAgIH0sCgogICAgZ3VhcmRhcigpIHsKCiAgICAgIGlmKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKXsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS52U2VydmljaW8uZWRpdGFyX2l0ZW0pCiAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLnZTZXJ2aWNpby5lZGl0YXJfaXRlbSA9PSBmYWxzZSl7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCJndWFyZGFyU2VydmljaW8iLCB0aGlzLnRva2VuX2NvbmZpZ3VyYXRpb24pCiAgICAgICAgLnRoZW4odGhpcy5yZWdpc3Ryb0V4aXRvc28sIHRoaXMucmVnaXRyb0Vycm9yKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ2b3kgYSBHVUFSREFSIikKICAgICAgICB0aGlzLmxpbXBpYXIoKTsKICAgICAgICAgfWVsc2V7CiAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS52U2VydmljaW8uUHJvZHVjdG8uQ29kaWdvUHJvZHVjdG89dGhpcy4kc3RvcmUuc3RhdGUuQ29kaWdvUHJvZHVjdG8KICAgICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgiZ3VhcmRhclNlcnZpY2lvIiwgdGhpcy50b2tlbl9jb25maWd1cmF0aW9uKQogICAgICAgIC50aGVuKHRoaXMucmVnaXN0cm9FeGl0b3NvLCB0aGlzLnJlZ2l0cm9FcnJvcik7CiAgICAgICAgICBjb25zb2xlLmxvZygidm95IGEgbW9kaWZpY2FyIikKICAgICAgICAgdGhpcy5saW1waWFyKCk7CiAgICAgICAgIH0KICAgICAgCiAgICAgIH0KICAgICAgICAKICAgIH0sCiAgICByZWdpc3Ryb0V4aXRvc28ocmVzdWx0KSB7CiAgICAgIGNvbnNvbGUubG9nKCJMYSBvcGVyYWNpw7NuIGZ1ZSBjb3JyZWN0YToiLCByZXN1bHQpOwogICAgICB0aGlzLnZTZXJ2aWNpby5Qcm9kdWN0byA9IHRoaXMuY3JlYXRlRnJlc2hQcm92ZWVkb3IoKTsKICAgICAgdGhpcy5ub3RpZmljYWNpb249MQogICAgICAvLyBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nby5kaWFsb2cpIHsKICAgICAgLy8gICB0aGlzLm1vZGFsID0gIXRoaXMubW9kYWw7CiAgICAgIC8vIH0KICAgIH0sCiAgICByZWdpdHJvRXJyb3IoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coIkh1Ym8gdW4gZXJyb3IgYWwgcmVhbGl6YXIgbGEgb3BlcmFjacOzbiIsIGVycm9yKTsKICAgIH0sCiAgICB2YWxpZGFyQ29kaWdvQmFycmEoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJidXNjYXJDb2RpZ29CYXJyYSIpOwogICAgfSwKICB9LAogIC8vIG51ZXZvIGNvZGlnbwp9Owo="},{"version":3,"sources":["FormularioServicio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormularioServicio.vue","sourceRoot":"src/views/servicio","sourcesContent":["<template>\n  <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">Registro de Repuestos</span>\n      </v-card-title>\n      <v-card-text>\n     <v-container grid-list-md>\n                <v-layout wrap>\n                    <!-- <v-flex xs12 sm12 md4>\n                      <v-text-field \n                      outlined\n                      @keyup=\"validarCodigoBarra\"\n                      v-model=\"vServicio.Producto.CodigoBarra\"  :rules=\"CodigoRules\" label=\"Codigo de Barra\"\n                      ></v-text-field>\n                        <v-alert :value=\"this.vServicio.show_alert\" color=\"error\" icon=\"warning\">El Codigo ya est√° en uso.</v-alert>\n                    </v-flex> -->\n                  <v-flex xs12 sm12 md8>\n                    <v-text-field outlined :rules=\"DescripcionRules\" v-model=\"vServicio.Producto.Descripcion\" label=\"Descripcion\"></v-text-field>\n                  </v-flex>\n                </v-layout>\n                <!--  -->\n                <v-layout wrap>\n                  <v-flex xs12 sm12 md12>\n                    <v-autocomplete\n                      outlined\n                    :rules=\"DepositoRules\"\n                      :items=\"vDeposito.Depositos\"\n                      :item-text=\"item=>`${item.codigoDeposito} ${item.Nombre}`\"\n                      v-model=\"vServicio.Producto.CodigoDeposito\"\n                      item-value=\"codigoDeposito\"\n                      label=\"Deposito\"\n                    ></v-autocomplete>\n                  </v-flex>\n                  <v-flex xs12 sm12 md12>\n                    <v-text-field :rules=\"PreciocRules\" outlined v-model=\"vServicio.Producto.PrecioCompra\" label=\"Precio de Compra\"></v-text-field>\n                  </v-flex>\n                  <v-flex xs12 sm12 md12>\n                    <v-text-field :rules=\"PreciiovRules\" outlined v-model=\"vServicio.Producto.PrecioVentaMinorista\" label=\"Precio de Venta\"></v-text-field>\n                  </v-flex>\n                </v-layout>\n              </v-container>\n      </v-card-text>\n      <v-card-actions>\n      <v-spacer></v-spacer>\n        <v-spacer></v-spacer>\n        <v-btn class=\"mb-2\" dark color=\"red accent-3\" @click=\"modal=!modal, limpiar()\">\n          Cancelar\n          <v-icon dark right>mdi-cancel</v-icon>\n        </v-btn>\n        <v-btn class=\"mb-2\"  color=\"blue darken-1\" @click=\"guardar()\">\n          Guardar\n          <v-icon>mdi-cloud-upload</v-icon>\n        </v-btn>\n      </v-card-actions>\n       <v-flex xs12 sm12 md12 xl12 v-if=\"notificacion==1\">\n           <v-alert \n            \n            dismissible\n            close-icon=\"mdi-delete\"\n            color=\"light-blue accent-4\"\n            elevation=\"2\"\n            type=\"info\"\n            outlined\n           >\n      {{this.$store.state.vServicio.mensaje}}\n    </v-alert>\n         </v-flex>\n    </v-card>\n  </v-form>\n</template>\n<script>\nimport { mapGetters, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      valid: true,\n    //  mensaje:'',\n      notificacion:0,\n      token_configuration: [],\n      CodigoRules: [(v) => !!v || \"Codigo Barra requerido\"],\n      DescripcionRules: [(v) => !!v || \"Descripcion requerido\"],\n      DepositoRules: [(v) => !!v || \"Deposito requerido\"],\n      PreciocRules: [(v) => !!v || \"Precio Compra requerido\"],\n      PreciiovRules: [(v) => !!v || \"Precio Venta requerido\"],\n  \n\n    };\n  },\n  // name: 'FormularioProveedor',\n\n  mounted() {\n    let header = { \"auth-token\": this.$store.state.token };\n    this.token_configuration = { headers: header };\n    this.$store.dispatch(\"getDepositos\", this.token_configuration);\n  },\n  computed: {\n    ...mapState([\"vDeposito\",\"vServicio\"]),\n    modal: {\n      get() {\n        return this.$store.getters.getModal;\n      },\n      set(value) {\n        this.$store.dispatch(\"switchDialog\", value);\n      },\n      ...mapGetters([\"setProducto\"]),\n    },\n  },\n\n  methods: {\n   createFreshProveedor() {\n      return {\n        CodigoProducto: \"\",\n        CodigoBarra: \"\",\n        Descripcion: \"\",\n        PrecioCompra: \"\",\n        PrecioVentaMinorista: \"\",\n        CodigoDeposito: \"\",\n      };\n    },\n    capturarcodigo(texto) {\n      const cod = texto.split(\" \")[0];\n      return cod;\n    },\n     reset () {\n        this.$refs.form.reset()\n      },\n    limpiar() {\n      console.log(\"limpiar\")\n      //  this.vProducto.CodigoProducto=\"\",\n          this.vServicio.Producto = this.createFreshProveedor();\n         this.notificacion=0;\n         this.reset();\n        \n    },\n\n    guardar() {\n\n      if(this.$refs.form.validate()){\n        console.log(this.$store.state.vServicio.editar_item)\n         if(this.$store.state.vServicio.editar_item == false){\n            this.$store\n        .dispatch(\"guardarServicio\", this.token_configuration)\n        .then(this.registroExitoso, this.regitroError);\n          console.log(\"voy a GUARDAR\")\n        this.limpiar();\n         }else{\n       this.$store.state.vServicio.Producto.CodigoProducto=this.$store.state.CodigoProducto\n        this.$store\n        .dispatch(\"guardarServicio\", this.token_configuration)\n        .then(this.registroExitoso, this.regitroError);\n          console.log(\"voy a modificar\")\n         this.limpiar();\n         }\n      \n      }\n        \n    },\n    registroExitoso(result) {\n      console.log(\"La operaci√≥n fue correcta:\", result);\n      this.vServicio.Producto = this.createFreshProveedor();\n      this.notificacion=1\n      // if (this.$store.state.dialogo.dialog) {\n      //   this.modal = !this.modal;\n      // }\n    },\n    regitroError(error) {\n      console.log(\"Hubo un error al realizar la operaci√≥n\", error);\n    },\n    validarCodigoBarra() {\n      this.$store.dispatch(\"buscarCodigoBarra\");\n    },\n  },\n  // nuevo codigo\n};\n</script>"]}]}