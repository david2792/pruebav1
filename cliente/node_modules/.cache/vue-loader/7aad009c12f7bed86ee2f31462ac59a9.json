{"remainingRequest":"/home/david/Documentos/NODE+VUE/cliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documentos/NODE+VUE/cliente/src/views/vehiculo/FormularioVehiculo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documentos/NODE+VUE/cliente/src/views/vehiculo/FormularioVehiculo.vue","mtime":1611168408000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIG1lbnNhamU6JycsCiAgICAgIG5vdGlmaWNhY2lvbjowLAogICAgICB0b2tlbl9jb25maWd1cmF0aW9uOiBbXSwKICAgIGNsaWVudGVSdWxlczogWyh2KSA9PiAhIXYgfHwgIkNsaWVudGUgcmVxdWVyaWRvIl0sCiAgICBtYXJjYVJ1bGVzOiBbKHYpID0+ICEhdiB8fCAiTWFyY2EgcmVxdWVyaWRvIl0sCiAgICBtb2RlbG9SdWxlczogWyh2KSA9PiAhIXYgfHwgIk1vZGVsbyByZXF1ZXJpZG8iXSwKICAgIHRyYW5zbWlzaW9uUnVsZXM6IFsodikgPT4gISF2IHx8ICJUcmFuc21pY2lvbiByZXF1ZXJpZG8iXSwKICAgIGNvbG9yUnVsZXM6IFsodikgPT4gISF2IHx8ICJDb2xvciByZXF1ZXJpZG8iXSwKICAgIGNoYXBhUnVsZXM6IFsodikgPT4gISF2IHx8ICJjaGFwYSByZXF1ZXJpZG8iXSwKICAgIG9ic2VydmFjaW9uUnVsZXM6IFsodikgPT4gISF2IHx8ICJPYnNlcnZhY2lvbiByZXF1ZXJpZG8iXSwKICAgIGNoYXNpc1J1bGVzOiBbKHYpID0+ICEhdiB8fCAiQ2hhc2lzIHJlcXVlcmlkbyJdLAogICAgfTsKICB9LAogIC8vIG5hbWU6ICdGb3JtdWxhcmlvUHJvdmVlZG9yJywKCiAgbW91bnRlZCgpIHsKICAgIGxldCBoZWFkZXIgPSB7ICJhdXRoLXRva2VuIjogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfTsKICAgIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbiA9IHsgaGVhZGVyczogaGVhZGVyIH07CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0VHJhbnNtaWNpb25lcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q2xpZW50ZXMiLCB0aGlzLnRva2VuX2NvbmZpZ3VyYXRpb24pOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldE1hcmNhcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q29sb3JlcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0TW9kZWxvcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyJ2VHJhbnNtaWNpb24iLCAidkNsaWVudGUiLCJ2Q29sb3IiLCJ2TWFyY2FWZWhpY3VsbyIsInZNb2RlbG8iLCAidlZlaGljdWxvIl0pLAogICAgbW9kYWw6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGFsOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic3dpdGNoRGlhbG9nIiwgdmFsdWUpOwogICAgICB9LAogICAgICAuLi5tYXBHZXR0ZXJzKFsic2V0VmVoaWN1bG8iXSksCiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZUZyZXNoUHJvdmVlZG9yKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgICBDb2RpZ29DbGllbnRlOiIiLAogICAgICAgICAgICBjb2RpZ29tYXJjYTogIiIsCiAgICAgICAgICAgIGNvZGlnb21vZGVsbzogICIiLAogICAgICAgICAgICBjb2Rpb2dvdHJhbnNtaXNpb246ICIiLAogICAgICAgICAgICBjb2RpZ29jb2xvcjogIiIsCiAgICAgICAgICAgIGNoYXBhOiAiIiwKICAgICAgICAgICAgb2JzZXJ2YWNpb246ICIiLAogICAgICAgICAgICBjaGFzaXM6ICIiLAogICAgICB9OwogICAgfSwKICAgIGNhcHR1cmFyY29kaWdvKHRleHRvKSB7CiAgICAgIGNvbnN0IGNvZCA9IHRleHRvLnNwbGl0KCIgIilbMF07CiAgICAgIHJldHVybiBjb2Q7CiAgICB9LAogICAgcmVzZXQgKCkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpCiAgICAgIH0sCiAgICBsaW1waWFyKCkgewogICAgIHRoaXMudlZlaGljdWxvLlZlaGljdWxvID0gdGhpcy5jcmVhdGVGcmVzaFByb3ZlZWRvcigpOwogICAgIHRoaXMucmVzZXQgKCk7CiAgICAgIHRoaXMubm90aWZpY2FjaW9uPTA7CiAgICB9LAoKICAgIGd1YXJkYXIoKSB7CgogICAgICBpZih0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSl7CiAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5zdGF0ZS52VmVoaWN1bG8uVmVoaWN1bG8uY29kaWdvbW9kZWxvID10aGlzLmNhcHR1cmFyY29kaWdvKHRoaXMudlZlaGljdWxvLlZlaGljdWxvLmNvZGlnb21vZGVsbykKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ29tYXJjYSA9dGhpcy5jYXB0dXJhcmNvZGlnbyh0aGlzLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ29tYXJjYSkKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ290cmFuc21pc2lvbiA9dGhpcy5jYXB0dXJhcmNvZGlnbyh0aGlzLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ290cmFuc21pc2lvbikKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ29jb2xvciA9dGhpcy5jYXB0dXJhcmNvZGlnbyh0aGlzLnZWZWhpY3Vsby5WZWhpY3Vsby5jb2RpZ29jb2xvcikKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJjb2RpZ28gIiArdGhpcy4kc3RvcmUuc3RhdGUudlZlaGljdWxvLmNvZGlnb21hcmNhKQogICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS52VmVoaWN1bG8uZWRpdGFyX2l0ZW0gPT0gZmFsc2UpewogICAgICAgICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgiZ3VhcmRhclZlaGljdWxvIiwgdGhpcy50b2tlbl9jb25maWd1cmF0aW9uKQogICAgICAgIC50aGVuKHRoaXMucmVnaXN0cm9FeGl0b3NvLCB0aGlzLnJlZ2l0cm9FcnJvcik7CiAgICAgICAgY29uc29sZS5sb2coInNveSBlbCBtZXNhamUgZGUgZ3VhcmRhciAiKQogICAgICAgLy8gdGhpcy4kc3RvcmUuc3RhdGUudkNsaWVudGUuZWRpdGFyX2l0ZW0gPWZhbHNlCgogICAgICAgIGNvbnNvbGUubG9nKCIgdm95IGEgZ3VhcmRhciIpCiAgICAgICAvLyB0aGlzLmxpbXBpYXIoKTsKICAgICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAuZGlzcGF0Y2goImd1YXJkYXJWZWhpY3VsbyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbikKICAgICAgICAudGhlbih0aGlzLnJlZ2lzdHJvRXhpdG9zbygpLCB0aGlzLnJlZ2l0cm9FcnJvcigpKTsKICAgICAgIC8vICB0aGlzLiRzdG9yZS5zdGF0ZS52Q2xpZW50ZS5lZGl0YXJfaXRlbSA9ZmFsc2UKICAgICAgICAgIGNvbnNvbGUubG9nKCJ2b3kgYSBtb2RpZmljYXIiKQogICAgICAgIC8vIHRoaXMubGltcGlhcigpOwogICAgICAgICB9CiAgICAgIAogICAgICB9CiAgICAgICAgCiAgICB9LAogICAgcmVnaXN0cm9FeGl0b3NvKHJlc3VsdCkgewogICAgICBjb25zb2xlLmxvZygiTGEgb3BlcmFjacOzbiBmdWUgY29ycmVjdGE6IiwgcmVzdWx0KTsKICAgICAgIHRoaXMudlZlaGljdWxvLlZlaGljdWxvID0gdGhpcy5jcmVhdGVGcmVzaFByb3ZlZWRvcigpOwogICAgICB0aGlzLm5vdGlmaWNhY2lvbj0xCiAgICB9LAogICAgcmVnaXRyb0Vycm9yKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCJIdWJvIHVuIGVycm9yIGFsIHJlYWxpemFyIGxhIG9wZXJhY2nDs24iLCBlcnJvcik7CiAgICB9LAogIH0sCiAgLy8gbnVldm8gY29kaWdvCn07Cg=="},{"version":3,"sources":["FormularioVehiculo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormularioVehiculo.vue","sourceRoot":"src/views/vehiculo","sourcesContent":["<template>\n  <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">Registro Vehiculo</span>\n      </v-card-title>\n      <v-card-text>\n     <v-container grid-list-md>\n           <v-layout wrap>\n           <v-layout row wrap>\n          <v-flex xs12 sm8 md8 lg8 xl8>\n            <v-autocomplete\n             outlined\n                required\n                :items=\"vCliente.clientes\"\n                :item-text=\"item=>`${item.CodigoCliente} ${item.RazonSocial}`\"\n                item-value=\"CodigoCliente\"\n                label=\"Cliente\"\n                :rules=\"clienteRules\"\n                v-model=\"vVehiculo.Vehiculo.CodigoCliente\"\n            \n            ></v-autocomplete>\n          </v-flex>\n          <v-flex xs12 sm4 md4 lg4 xl4>\n            <v-autocomplete\n             :rules=\"transmisionRules\"\n                outlined\n                required\n                :items=\"vTransmicion.transmiciones\"\n                :item-text=\"item=>`${item.codigotransmision} ${item.nombre}`\"\n                item-value=\"codigotransmision\"\n                label=\"Transmicion\"\n                v-model=\"vVehiculo.Vehiculo.codigotransmision\"\n              ></v-autocomplete>\n          </v-flex>\n          <v-flex xs12 sm4 md4 lg4 xl4>\n           <v-autocomplete\n            :rules=\"marcaRules\"\n                outlined\n                required\n                :items=\"vMarcaVehiculo.marcas\"\n                :item-text=\"item=>`${item.codigomarca} ${item.nombre}`\"\n                item-value=\"codigomarca\"\n                label=\"Marca Vehiculo\"\n                v-model=\"vVehiculo.Vehiculo.codigomarca\"\n              ></v-autocomplete>\n          </v-flex>\n           <v-flex xs12 sm4 md4 lg4 xl4>\n           <v-autocomplete\n            :rules=\"modeloRules\"\n                outlined\n                required\n                :items=\"vModelo.modelos\"\n                :item-text=\"item=>`${item.codigomodelo} ${item.nombre}`\"\n                item-value=\"codigomodelo\"\n                label=\"Modelo\"\n                v-model=\"vVehiculo.Vehiculo.codigomodelo\"\n              ></v-autocomplete>\n          </v-flex>\n          <v-flex xs12 sm4 md4 lg4 xl4>\n           <v-autocomplete\n            :rules=\"colorRules\"\n                outlined\n                required\n                :items=\"vColor.colores\"\n                :item-text=\"item=>`${item.codigocolor} ${item.nombre}`\"\n                item-value=\"codigocolor\"\n                label=\"Color\"\n                v-model=\"vVehiculo.Vehiculo.codigocolor\"\n              ></v-autocomplete>\n          </v-flex>\n          <v-flex xs12 sm4 md4 lg4 xl4>\n            <v-text-field  :rules=\"chapaRules\" outlined v-model=\"vVehiculo.Vehiculo.chapa\" label=\"N. Chapa\"></v-text-field>\n          </v-flex>\n          <v-flex xs12 sm12 md8 lg8 xl8>\n            <v-text-field  :rules=\"chasisRules\" outlined v-model=\"vVehiculo.Vehiculo.chasis\" label=\"Numero Chasis\"></v-text-field>\n          </v-flex>\n          <v-flex xs12 sm12 md12 lg12 xl12>    \n             <v-text-field  :rules=\"observacionRules\" outlined v-model=\"vVehiculo.Vehiculo.observacion\" label=\"Observacion\"></v-text-field>\n          </v-flex>\n        </v-layout>\n     </v-layout>\n          </v-container>\n      </v-card-text>\n      <v-card-actions>\n      <v-spacer></v-spacer>\n        <v-spacer></v-spacer>\n        <v-btn class=\"mb-2\" dark color=\"red accent-3\" @click=\"modal=!modal, limpiar()\">\n          Cancelar\n          <v-icon dark right>mdi-cancel</v-icon>\n        </v-btn>\n        <v-btn class=\"mb-2\"  color=\"blue darken-1\" @click=\"guardar()\">\n          Guardar\n          <v-icon>mdi-cloud-upload</v-icon>\n        </v-btn>\n      </v-card-actions>\n       <v-flex xs12 sm12 md12 xl12 v-if=\"notificacion==1\">\n           <v-alert \n            \n            dismissible\n            close-icon=\"mdi-delete\"\n            color=\"light-blue accent-4\"\n            elevation=\"2\"\n            type=\"info\"\n            outlined\n           >\n      {{this.$store.state.vVehiculo.mensaje}}\n    </v-alert>\n         </v-flex>\n    </v-card>\n  </v-form>\n</template>\n<script>\nimport { mapGetters, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      valid: true,\n      mensaje:'',\n      notificacion:0,\n      token_configuration: [],\n    clienteRules: [(v) => !!v || \"Cliente requerido\"],\n    marcaRules: [(v) => !!v || \"Marca requerido\"],\n    modeloRules: [(v) => !!v || \"Modelo requerido\"],\n    transmisionRules: [(v) => !!v || \"Transmicion requerido\"],\n    colorRules: [(v) => !!v || \"Color requerido\"],\n    chapaRules: [(v) => !!v || \"chapa requerido\"],\n    observacionRules: [(v) => !!v || \"Observacion requerido\"],\n    chasisRules: [(v) => !!v || \"Chasis requerido\"],\n    };\n  },\n  // name: 'FormularioProveedor',\n\n  mounted() {\n    let header = { \"auth-token\": this.$store.state.token };\n    this.token_configuration = { headers: header };\n    this.$store.dispatch(\"getTransmiciones\", this.token_configuration);\n    this.$store.dispatch(\"getClientes\", this.token_configuration);\n    this.$store.dispatch(\"getMarcas\", this.token_configuration);\n    this.$store.dispatch(\"getColores\", this.token_configuration);\n    this.$store.dispatch(\"getModelos\", this.token_configuration);\n  },\n  computed: {\n    ...mapState([\"vTransmicion\", \"vCliente\",\"vColor\",\"vMarcaVehiculo\",\"vModelo\", \"vVehiculo\"]),\n    modal: {\n      get() {\n        return this.$store.getters.getModal;\n      },\n      set(value) {\n        this.$store.dispatch(\"switchDialog\", value);\n      },\n      ...mapGetters([\"setVehiculo\"]),\n    },\n  },\n\n  methods: {\n    createFreshProveedor() {\n      return {\n            CodigoCliente:\"\",\n            codigomarca: \"\",\n            codigomodelo:  \"\",\n            codiogotransmision: \"\",\n            codigocolor: \"\",\n            chapa: \"\",\n            observacion: \"\",\n            chasis: \"\",\n      };\n    },\n    capturarcodigo(texto) {\n      const cod = texto.split(\" \")[0];\n      return cod;\n    },\n    reset () {\n        this.$refs.form.reset()\n      },\n    limpiar() {\n     this.vVehiculo.Vehiculo = this.createFreshProveedor();\n     this.reset ();\n      this.notificacion=0;\n    },\n\n    guardar() {\n\n      if(this.$refs.form.validate()){\n          // this.$store.state.vVehiculo.Vehiculo.codigomodelo =this.capturarcodigo(this.vVehiculo.Vehiculo.codigomodelo)\n          // this.$store.state.vVehiculo.Vehiculo.codigomarca =this.capturarcodigo(this.vVehiculo.Vehiculo.codigomarca)\n          // this.$store.state.vVehiculo.Vehiculo.codigotransmision =this.capturarcodigo(this.vVehiculo.Vehiculo.codigotransmision)\n          // this.$store.state.vVehiculo.Vehiculo.codigocolor =this.capturarcodigo(this.vVehiculo.Vehiculo.codigocolor)\n          // console.log(\"codigo \" +this.$store.state.vVehiculo.codigomarca)\n         if(this.$store.state.vVehiculo.editar_item == false){\n            this.$store\n        .dispatch(\"guardarVehiculo\", this.token_configuration)\n        .then(this.registroExitoso, this.regitroError);\n        console.log(\"soy el mesaje de guardar \")\n       // this.$store.state.vCliente.editar_item =false\n\n        console.log(\" voy a guardar\")\n       // this.limpiar();\n         }else{\n        this.$store\n        .dispatch(\"guardarVehiculo\", this.token_configuration)\n        .then(this.registroExitoso(), this.regitroError());\n       //  this.$store.state.vCliente.editar_item =false\n          console.log(\"voy a modificar\")\n        // this.limpiar();\n         }\n      \n      }\n        \n    },\n    registroExitoso(result) {\n      console.log(\"La operación fue correcta:\", result);\n       this.vVehiculo.Vehiculo = this.createFreshProveedor();\n      this.notificacion=1\n    },\n    regitroError(error) {\n      console.log(\"Hubo un error al realizar la operación\", error);\n    },\n  },\n  // nuevo codigo\n};\n</script>"]}]}