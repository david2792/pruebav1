{"remainingRequest":"/home/david/Documentos/NODE+VUE/cliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documentos/NODE+VUE/cliente/src/views/producto/FormularioProducto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documentos/NODE+VUE/cliente/src/views/producto/FormularioProducto.vue","mtime":1641843884912},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxlcnRhOiBmYWxzZSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIC8vICBtZW5zYWplOicnLAogICAgICBub3RpZmljYWNpb246IDAsCiAgICAgIHRva2VuX2NvbmZpZ3VyYXRpb246IFtdLAogICAgICBDb2RpZ29SdWxlczogWyh2KSA9PiAhIXYgfHwgIkNvZGlnbyBCYXJyYSByZXF1ZXJpZG8iXSwKICAgICAgRGVzY3JpcGNpb25SdWxlczogWyh2KSA9PiAhIXYgfHwgIkRlc2NyaXBjaW9uIHJlcXVlcmlkbyJdLAogICAgICBEZXBvc2l0b1J1bGVzOiBbKHYpID0+ICEhdiB8fCAiRGVwb3NpdG8gcmVxdWVyaWRvIl0sCiAgICAgIFByZWNpb2NSdWxlczogWyh2KSA9PiAhIXYgfHwgIlByZWNpbyBDb21wcmEgcmVxdWVyaWRvIl0sCiAgICAgIFByZWNpaW92UnVsZXM6IFsodikgPT4gISF2IHx8ICJQcmVjaW8gVmVudGEgcmVxdWVyaWRvIl0sCiAgICAgIFN0b2NrUnVsZXM6IFsodikgPT4gISF2IHx8ICJTdG9jayByZXF1ZXJpZG8iXSwKICAgICAgU3RvY2ttUnVsZXM6IFsodikgPT4gISF2IHx8ICJTdG9jayByZXF1ZXJpZG8iXSwKICAgICAgTWFyY2FSdWxlczogWyh2KSA9PiAhIXYgfHwgIk1hcmNhIHJlcXVlcmlkbyJdLAogICAgICBDYXRlZ29yaWFSdWxlczogWyh2KSA9PiAhIXYgfHwgIkNhdGVnb3JpYSByZXF1ZXJpZG8iXSwKICAgICAgSW1wdWVzdG9SdWxlczogWyh2KSA9PiAhIXYgfHwgIkltcHVlc3RvIHJlcXVlcmlkbyJdLAogICAgfTsKICB9LAogIC8vIG5hbWU6ICdGb3JtdWxhcmlvUHJvdmVlZG9yJywKCiAgbW91bnRlZCgpIHsKICAgIGxldCBoZWFkZXIgPSB7ICJhdXRoLXRva2VuIjogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfTsKICAgIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbiA9IHsgaGVhZGVyczogaGVhZGVyIH07CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGVwb3NpdG9zIiwgdGhpcy50b2tlbl9jb25maWd1cmF0aW9uKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRNYXJjYXNQcm9kdWN0b3MiLCB0aGlzLnRva2VuX2NvbmZpZ3VyYXRpb24pOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEltcHVlc3RvcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q2F0ZWdvcmlhcyIsIHRoaXMudG9rZW5fY29uZmlndXJhdGlvbik7CiAgfSwKICBjb21wdXRlZDogewogICAKICAgIC4uLm1hcFN0YXRlKFsKICAgICAgInZEZXBvc2l0byIsCiAgICAgICJ2TWFyY2EiLAogICAgICAidkNhdGVnb3JpYSIsCiAgICAgICJ2SW1wdWVzdG8iLAogICAgICAidlByb2R1Y3RvIiwKICAgICAgCiAgICBdKSwKICAgIG1vZGFsOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RhbDsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInN3aXRjaERpYWxvZyIsIHZhbHVlKTsKICAgICAgfSwKICAgICAgLi4ubWFwR2V0dGVycyhbInNldFByb2R1Y3RvIl0pLAoKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewoKICAgIGNyZWF0ZUZyZXNoUHJvdmVlZG9yKCkgewogICAgICByZXR1cm4gewogICAgICAgIGNvZGlnb3Byb2R1Y3RvOiAiIiwKICAgICAgICBjb2RpZ29iYXJyYTogIiIsCiAgICAgICAgZGVzY3JpcGNpb246ICIiLAogICAgICAgIHByZWNpb0NvbXByYTogMCwKICAgICAgICBwcmVjaW92ZW50YW1pbm9yaXN0YTogIiIsCiAgICAgICAgc3RvY2ttaW5pbW86ICIiLAogICAgICAgIHN0b2NrYWN0dWFsOiAiIiwKICAgICAgICBjb2RpZ29tYXJjYTogIiIsCiAgICAgICAgY29kaWdvY2F0ZWdvcmlhOiAiIiwKICAgICAgICBjb2RpZ2ltcHVlc3RvOiAiIiwKICAgICAgICBjb2RpZ29kZXBvc2l0bzogIiIsCiAgICAgIH07CiAgICB9LAogICAgY2FwdHVyYXJjb2RpZ28odGV4dG8pIHsKICAgICAgY29uc3QgY29kID0gdGV4dG8uc3BsaXQoIiAiKVswXTsKICAgICAgcmV0dXJuIGNvZDsKICAgIH0sCiAgICByZXNldCgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICB9LAogICAgbGltcGlhcigpIHsKICAgICAgdGhpcy52UHJvZHVjdG8uUHJvZHVjdG8gPSB0aGlzLmNyZWF0ZUZyZXNoUHJvdmVlZG9yKCk7CiAgICAgIHRoaXMudlByb2R1Y3RvLnNob3dfYWxlcnQgPWZhbHNlCiAgICAgIHRoaXMubm90aWZpY2FjaW9uID0gMDsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKCiAgICBndWFyZGFyKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS52UHJvZHVjdG8uZWRpdGFyX2l0ZW0pOwogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS52UHJvZHVjdG8uZWRpdGFyX2l0ZW0gPT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgIC5kaXNwYXRjaCgiZ3VhcmRhclByb2R1Y3RvIiwgdGhpcy50b2tlbl9jb25maWd1cmF0aW9uKQogICAgICAgICAgICAudGhlbih0aGlzLnJlZ2lzdHJvRXhpdG9zbywgdGhpcy5yZWdpdHJvRXJyb3IpOwogICAgICAgICAgdGhpcy5saW1waWFyKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgIC5kaXNwYXRjaCgibW9kaWZpY2FyUHJvZHVjdG8iLCB0aGlzLnRva2VuX2NvbmZpZ3VyYXRpb24pCiAgICAgICAgICAgIC50aGVuKHRoaXMucmVnaXN0cm9FeGl0b3NvLCB0aGlzLnJlZ2l0cm9FcnJvcik7CiAgICAgICAgICBjb25zb2xlLmxvZygidm95IGEgbW9kaWZpY2FyIik7CiAgICAgICAgICB0aGlzLmxpbXBpYXIoKTsKICAgICAgICAgICAKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3Ryb0V4aXRvc28ocmVzdWx0KSB7CiAgICAgCiAgICAgIGNvbnNvbGUubG9nKCJMYSBvcGVyYWNpw7NuIGZ1ZSBjb3JyZWN0YToiLCByZXN1bHQpOwogICAgICB0aGlzLnZQcm9kdWN0by5Qcm9kdWN0byA9IHRoaXMuY3JlYXRlRnJlc2hQcm92ZWVkb3IoKTsKICAgICAgdGhpcy5ub3RpZmljYWNpb24gPSAxOwogICAgICB0aGlzLmFsZXJ0YT10cnVlCiAgCiAgICB9LAogICAgcmVnaXRyb0Vycm9yKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCJIdWJvIHVuIGVycm9yIGFsIHJlYWxpemFyIGxhIG9wZXJhY2nDs24iLCBlcnJvcik7CiAgICB9LAogICAgdmFsaWRhckNvZGlnb0JhcnJhKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYnVzY2FyQ29kaWdvQmFycmFQcm9kdWN0byIpOwogICAgfSwKICB9LAogIC8vIG51ZXZvIGNvZGlnbwp9Owo="},{"version":3,"sources":["FormularioProducto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormularioProducto.vue","sourceRoot":"src/views/producto","sourcesContent":["<template>\n  <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">Registro de Productos</span>\n      </v-card-title>\n      <v-card-text>\n        <v-container grid-list-md>\n          <v-layout wrap>\n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                autofocus\n                outlined\n                v-model=\"vProducto.Producto.codigobarra\"\n                :rules=\"CodigoRules\"\n                label=\"Codigo de Barra\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 sm12 md8>\n              <v-text-field\n                outlined\n                :rules=\"DescripcionRules\"\n                v-model=\"vProducto.Producto.descripcion\"\n\n                label=\"Descripcion\"\n              ></v-text-field>\n            </v-flex>\n          </v-layout>\n          <!--  -->\n          <v-layout wrap>\n            \n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                outlined\n                v-model=\"vProducto.Producto.preciocompra\"\n                label=\"Precio de Compra\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                :rules=\"PreciiovRules\"\n                outlined\n                v-model=\"vProducto.Producto.precioventaminorista\"\n                label=\"Precio Minorista\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                :rules=\"PreciiovRules\"\n                outlined\n                v-model=\"vProducto.Producto.precioventamayorista\"\n                label=\"Precio de Mayorista\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 sm12 md4>\n              <v-autocomplete\n                outlined\n                :rules=\"DepositoRules\"\n                :items=\"vDeposito.Depositos\"\n                :item-text=\"(item) => `${item.codigoDeposito} ${item.Nombre}`\"\n                v-model=\"vProducto.Producto.codigodeposito\"\n                item-value=\"codigoDeposito\"\n                label=\"Deposito\"\n              ></v-autocomplete>\n            </v-flex>\n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                :rules=\"StockRules\"\n                outlined\n                v-model=\"vProducto.Producto.stockactual\"\n                label=\"Stock Actual\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 sm12 md4>\n              <v-text-field\n                :rules=\"StockmRules\"\n                outlined\n                v-model=\"vProducto.Producto.stockminimo\"\n                label=\"Stock Minimo\"\n              ></v-text-field>\n            </v-flex>\n          </v-layout>\n          <v-layout wrap>\n            <v-flex xs12 sm12 md12>\n              <v-autocomplete\n                outlined\n                :rules=\"MarcaRules\"\n                :items=\"vMarca.Marcas\"\n                :item-text=\"(item) => `${item.CodigoMarca} ${item.Descripcion}`\"\n                v-model=\"vProducto.Producto.codigomarca\"\n                item-value=\"CodigoMarca\"\n                label=\"Marca\"\n              ></v-autocomplete>\n            </v-flex>\n          </v-layout>\n          <v-layout wrap>\n            <v-flex xs12 sm12 md12>\n              <v-autocomplete\n                :rules=\"CategoriaRules\"\n                outlined\n                :items=\"vCategoria.Categorias\"\n                :item-text=\"\n                  (item) => `${item.CodigoCategoria} ${item.Descripcion}`\n                \"\n                v-model=\"vProducto.Producto.codigocategoria\"\n                item-value=\"CodigoCategoria\"\n                label=\"Categoria\"\n              ></v-autocomplete>\n            </v-flex>\n          </v-layout>\n          <v-layout wrap>\n            <v-flex xs12 sm12 md12>\n              <v-autocomplete\n                outlined\n                :rules=\"ImpuestoRules\"\n                :items=\"vImpuesto.Impuestos\"\n                :item-text=\"\n                  (item) => `${item.CodigImpuesto} ${item.Descripcion}`\n                \"\n                v-model=\"vProducto.Producto.codigimpuesto\"\n                item-value=\"CodigImpuesto\"\n                label=\"Impuesto\"\n                clearable\n              ></v-autocomplete>\n            </v-flex>\n          </v-layout>\n          <!-- <v-flex xs12 sm12 md12 v-show=\"valida\">\n                  <div class=\"red--text\" v-for=\"v in validaMensaje\" :key=\"v\" v-text=\"v\"></div>\n                </v-flex> -->\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-spacer></v-spacer>\n        <v-btn\n          class=\"mb-2\"\n          dark\n          x-large \n          color=\"red accent-3\"\n          @click=\"(modal = !modal), limpiar()\"\n        >\n          Cancelar\n          <v-icon dark right>mdi-cancel</v-icon>\n        </v-btn>\n        <v-btn class=\"mb-2\" \n        x-large\n        color=\"success\"\n        dark\n        @click=\"guardar()\">\n          Guardar\n          <v-icon>mdi-cloud-upload</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-flex xs12 sm12 md12 xl12 v-if=\"notificacion == 1\">\n        <v-alert\n         <v-alert\n      \n      dark\n      color=\"info\">\n          {{ this.$store.state.vProducto.mensaje }}\n        </v-alert>\n      </v-flex>\n    </v-card>\n  </v-form>\n</template>\n<script>\nimport { mapGetters, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      alerta: false,\n      valid: true,\n      //  mensaje:'',\n      notificacion: 0,\n      token_configuration: [],\n      CodigoRules: [(v) => !!v || \"Codigo Barra requerido\"],\n      DescripcionRules: [(v) => !!v || \"Descripcion requerido\"],\n      DepositoRules: [(v) => !!v || \"Deposito requerido\"],\n      PreciocRules: [(v) => !!v || \"Precio Compra requerido\"],\n      PreciiovRules: [(v) => !!v || \"Precio Venta requerido\"],\n      StockRules: [(v) => !!v || \"Stock requerido\"],\n      StockmRules: [(v) => !!v || \"Stock requerido\"],\n      MarcaRules: [(v) => !!v || \"Marca requerido\"],\n      CategoriaRules: [(v) => !!v || \"Categoria requerido\"],\n      ImpuestoRules: [(v) => !!v || \"Impuesto requerido\"],\n    };\n  },\n  // name: 'FormularioProveedor',\n\n  mounted() {\n    let header = { \"auth-token\": this.$store.state.token };\n    this.token_configuration = { headers: header };\n    this.$store.dispatch(\"getDepositos\", this.token_configuration);\n    this.$store.dispatch(\"getMarcasProductos\", this.token_configuration);\n    this.$store.dispatch(\"getImpuestos\", this.token_configuration);\n    this.$store.dispatch(\"getCategorias\", this.token_configuration);\n  },\n  computed: {\n   \n    ...mapState([\n      \"vDeposito\",\n      \"vMarca\",\n      \"vCategoria\",\n      \"vImpuesto\",\n      \"vProducto\",\n      \n    ]),\n    modal: {\n      get() {\n        return this.$store.getters.getModal;\n      },\n      set(value) {\n        this.$store.dispatch(\"switchDialog\", value);\n      },\n      ...mapGetters([\"setProducto\"]),\n\n    },\n  },\n\n  methods: {\n\n    createFreshProveedor() {\n      return {\n        codigoproducto: \"\",\n        codigobarra: \"\",\n        descripcion: \"\",\n        precioCompra: 0,\n        precioventaminorista: \"\",\n        stockminimo: \"\",\n        stockactual: \"\",\n        codigomarca: \"\",\n        codigocategoria: \"\",\n        codigimpuesto: \"\",\n        codigodeposito: \"\",\n      };\n    },\n    capturarcodigo(texto) {\n      const cod = texto.split(\" \")[0];\n      return cod;\n    },\n    reset() {\n      this.$refs.form.reset();\n    },\n    limpiar() {\n      this.vProducto.Producto = this.createFreshProveedor();\n      this.vProducto.show_alert =false\n      this.notificacion = 0;\n      this.reset();\n    },\n\n    guardar() {\n      if (this.$refs.form.validate()) {\n        console.log(this.$store.state.vProducto.editar_item);\n        if (this.$store.state.vProducto.editar_item == false) {\n          this.$store\n            .dispatch(\"guardarProducto\", this.token_configuration)\n            .then(this.registroExitoso, this.regitroError);\n          this.limpiar();\n        } else {\n          this.$store\n            .dispatch(\"modificarProducto\", this.token_configuration)\n            .then(this.registroExitoso, this.regitroError);\n          console.log(\"voy a modificar\");\n          this.limpiar();\n           \n        }\n      }\n    },\n    registroExitoso(result) {\n     \n      console.log(\"La operación fue correcta:\", result);\n      this.vProducto.Producto = this.createFreshProveedor();\n      this.notificacion = 1;\n      this.alerta=true\n  \n    },\n    regitroError(error) {\n      console.log(\"Hubo un error al realizar la operación\", error);\n    },\n    validarCodigoBarra() {\n      this.$store.dispatch(\"buscarCodigoBarraProducto\");\n    },\n  },\n  // nuevo codigo\n};\n</script>"]}]}