{"remainingRequest":"/home/david/Documentos/NODE+VUE/cliente/node_modules/babel-loader/lib/index.js!/home/david/Documentos/NODE+VUE/cliente/src/store/referencial-compras/compras/compras.js","dependencies":[{"path":"/home/david/Documentos/NODE+VUE/cliente/src/store/referencial-compras/compras/compras.js","mtime":1611168408000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/NODE+VUE/cliente/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCB2YXIgc3RhdGUgPSB7CiAgY2FiZWNlcmFfY29tcHJhczogewogICAgTnJvRmFjdHVyYTogIiIsCiAgICBGZWNoYTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBlc3RhZG86IDAsCiAgICBjb2RpZ29jb25kaWNpb246IDEsCiAgICBjb2RpZ29Vc3VhcmlvOiAiIiwKICAgIGNvZGlnb1BlZGlkbzogMSwKICAgIENvZGlnb0Zvcm1hc1BhZ286IDEsCiAgICBjb2RpZ29Qcm92ZWVkb3I6ICIiLAogICAgVG90YWw6IDAKICB9LAogIExpbXBpYXJfY2FiZWNlcmFfY29tcHJhczogewogICAgTnJvRmFjdHVyYTogIiIsCiAgICBGZWNoYTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBlc3RhZG86IDAsCiAgICBjb2RpZ29jb25kaWNpb246IDEsCiAgICBjb2RpZ29Vc3VhcmlvOiAiIiwKICAgIGNvZGlnb1BlZGlkbzogMSwKICAgIENvZGlnb0Zvcm1hc1BhZ286IDEsCiAgICBjb2RpZ29Qcm92ZWVkb3I6ICIiLAogICAgVG90YWw6IDAKICB9LAogIGxpc3RhQ29tcHJhczogW10sCiAgbWVuc2FqZTogIiIKfTsKZXhwb3J0IHZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX0NBQkVDRVJBX0NPTVBSQTogZnVuY3Rpb24gU0VUX0NBQkVDRVJBX0NPTVBSQShzdGF0ZSwgY2FiZWNlcmFfY29tcHJhcykgewogICAgc3RhdGUuY2FiZWNlcmFfY29tcHJhcyA9IGNhYmVjZXJhX2NvbXByYXM7CiAgfSwKICBTRVRfTElTVEFfQ09NUFJBUzogZnVuY3Rpb24gU0VUX0xJU1RBX0NPTVBSQVMoc3RhdGUsIF9yZWYpIHsKICAgIHZhciBOcm9GYWN0dXJhID0gX3JlZi5Ocm9GYWN0dXJhLAogICAgICAgIENvZGlnb1Byb2R1Y3RvID0gX3JlZi5Db2RpZ29Qcm9kdWN0bywKICAgICAgICBEZXNjcmlwY2lvbiA9IF9yZWYuRGVzY3JpcGNpb24sCiAgICAgICAgQ2FudGlkYWQgPSBfcmVmLkNhbnRpZGFkLAogICAgICAgIFByZWNpbyA9IF9yZWYuUHJlY2lvLAogICAgICAgIFN1YlRvdGFsID0gX3JlZi5TdWJUb3RhbDsKICAgIHZhciBwcm9kdWN0SW5Db21wcmFzID0gc3RhdGUubGlzdGFDb21wcmFzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0uQ29kaWdvUHJvZHVjdG8gPT09IENvZGlnb1Byb2R1Y3RvOwogICAgfSk7CgogICAgaWYgKHByb2R1Y3RJbkNvbXByYXMpIHsKICAgICAgcHJvZHVjdEluQ29tcHJhcy5DYW50aWRhZCArPSBDYW50aWRhZDsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHN0YXRlLmxpc3RhQ29tcHJhcy5wdXNoKHsKICAgICAgTnJvRmFjdHVyYTogTnJvRmFjdHVyYSwKICAgICAgQ29kaWdvUHJvZHVjdG86IENvZGlnb1Byb2R1Y3RvLAogICAgICBEZXNjcmlwY2lvbjogRGVzY3JpcGNpb24sCiAgICAgIENhbnRpZGFkOiBDYW50aWRhZCwKICAgICAgUHJlY2lvOiBQcmVjaW8sCiAgICAgIFN1YlRvdGFsOiBTdWJUb3RhbAogICAgfSk7CiAgfSwKICBTRVRfTUVOU0FKRTogZnVuY3Rpb24gU0VUX01FTlNBSkUoc3RhdGUsIG1lbnNhamUpIHsKICAgIHN0YXRlLm1lbnNhamUgPSBtZW5zYWplOwogIH0sCiAgTElNUElBUl9DT01QUkFTOiBmdW5jdGlvbiBMSU1QSUFSX0NPTVBSQVMoc3RhdGUpIHsKICAgIHN0YXRlLmNhYmVjZXJhX2NvbXByYXMgPSBzdGF0ZS5MaW1waWFyX2NhYmVjZXJhX2NvbXByYXM7CiAgfQp9OwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgaW5zZXJ0Q29tcHJhczogZnVuY3Rpb24gaW5zZXJ0Q29tcHJhcyhfcmVmMiwgY29uZmlndXJhY2lvbikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIGNvbnNvbGUubG9nKCJJbnNlcnQgY29tcHJhcyB3aGVyZTogQ2FiZWNlcmE6ICIsIHN0YXRlLmNhYmVjZXJhX2NvbXByYXMsICIsIERldGFsbGU6ICIsIHN0YXRlLmxpc3RhQ29tcHJhcywgIiwgRGF0b3M6ICIsIGNvbmZpZ3VyYWNpb24pOwogICAgYXhpb3MucG9zdCgiY29tcHJhcy9ndWFyZGFyIiwgewogICAgICBjYWJlY2VyYV9jb21wcmFzOiBzdGF0ZS5jYWJlY2VyYV9jb21wcmFzLAogICAgICBkZXRhbGxlX2NvbXByYXM6IHN0YXRlLmxpc3RhQ29tcHJhcwogICAgfSwgY29uZmlndXJhY2lvbikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIGNvbW1pdCgiU0VUX01FTlNBSkUiLCByZXN1bHQuZGF0YS5tZW5zYWplKTsKICAgICAgc3RhdGUubGlzdGFDb21wcmFzID0gW107CiAgICAgIGNvbW1pdCgiTElNUElBUl9DT01QUkFTIik7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBhbCB0cmF0YXIgZGUgcmVnaXN0cmFyIGNvbXByYXM6ICIsIGVycik7CiAgICAgIG1lbnNhamUgPSAiZXJyb3IgYWwgdHJhdGFyIGRlIHJlZ2lzdHJhciBjb21wcmFzOiAiLCBlcnI7CiAgICAgIGNvbW1pdCgiU0VUX01FTlNBSkUiLCBtZW5zYWplKTsKICAgIH0pOwogIH0sCiAgYWRkSXRlbVRvQ29tcHJhczogZnVuY3Rpb24gYWRkSXRlbVRvQ29tcHJhcyhfcmVmMywgX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICB2YXIgTnVtZXJvRmFjdHVyYSA9IF9yZWY0Lk51bWVyb0ZhY3R1cmEsCiAgICAgICAgQ29kaWdvUHJvZHVjdG8gPSBfcmVmNC5Db2RpZ29Qcm9kdWN0bywKICAgICAgICBEZXNjcmlwY2lvbiA9IF9yZWY0LkRlc2NyaXBjaW9uLAogICAgICAgIENhbnRpZGFkID0gX3JlZjQuQ2FudGlkYWQsCiAgICAgICAgUHJlY2lvID0gX3JlZjQuUHJlY2lvLAogICAgICAgIHN1YlRvdGFsID0gX3JlZjQuc3ViVG90YWw7CiAgICBjb21taXQoJ1NFVF9MSVNUQV9DT01QUkFTJywgewogICAgICBOdW1lcm9GYWN0dXJhOiBOdW1lcm9GYWN0dXJhLAogICAgICBDb2RpZ29Qcm9kdWN0bzogQ29kaWdvUHJvZHVjdG8sCiAgICAgIERlc2NyaXBjaW9uOiBEZXNjcmlwY2lvbiwKICAgICAgQ2FudGlkYWQ6IENhbnRpZGFkLAogICAgICBQcmVjaW86IFByZWNpbywKICAgICAgc3ViVG90YWw6IHN1YlRvdGFsCiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCJMaXN0YSBkZSBjb21wcmFzOiAiLCBzdGF0ZS5saXN0YUNvbXByYXMpOwogIH0KfTsKZXhwb3J0IHZhciBnZXR0ZXJzID0gewogIHRvdGFsQ29tcHJhczogZnVuY3Rpb24gdG90YWxDb21wcmFzKHN0YXRlKSB7CiAgICBzdGF0ZS5jYWJlY2VyYV9jb21wcmFzLlRvdGFsID0gMDsKICAgIHN0YXRlLmxpc3RhQ29tcHJhcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgIHN0YXRlLmNhYmVjZXJhX2NvbXByYXMuVG90YWwgKz0gZWxlbWVudC5QcmVjaW8gKiBlbGVtZW50LkNhbnRpZGFkOwogICAgfSk7CiAgICByZXR1cm4gc3RhdGUuY2FiZWNlcmFfY29tcHJhcy5Ub3RhbDsKICB9Cn07"},{"version":3,"sources":["/home/david/Documentos/NODE+VUE/cliente/src/store/referencial-compras/compras/compras.js"],"names":["axios","state","cabecera_compras","NroFactura","Fecha","Date","toISOString","substr","estado","codigocondicion","codigoUsuario","codigoPedido","CodigoFormasPago","codigoProveedor","Total","Limpiar_cabecera_compras","listaCompras","mensaje","mutations","SET_CABECERA_COMPRA","SET_LISTA_COMPRAS","CodigoProducto","Descripcion","Cantidad","Precio","SubTotal","productInCompras","find","item","push","SET_MENSAJE","LIMPIAR_COMPRAS","actions","insertCompras","configuracion","commit","console","log","post","detalle_compras","then","result","data","catch","err","addItemToCompras","NumeroFactura","subTotal","getters","totalCompras","forEach","element"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\nexport const state ={\n    cabecera_compras: {\n        NroFactura: \"\",\n        Fecha: new Date().toISOString().substr(0, 10),\n        estado: 0,\n        codigocondicion: 1,\n        codigoUsuario: \"\",\n        codigoPedido: 1,\n        CodigoFormasPago: 1,\n        codigoProveedor: \"\",\n        Total: 0,\n    },\n\n    Limpiar_cabecera_compras: {\n        NroFactura: \"\",\n        Fecha: new Date().toISOString().substr(0, 10),\n        estado: 0,\n        codigocondicion: 1,\n        codigoUsuario: \"\",\n        codigoPedido: 1,\n        CodigoFormasPago: 1,\n        codigoProveedor: \"\",\n        Total: 0,\n    },\n    listaCompras: [],\n    mensaje: \"\",\n};\n\nexport const mutations= {\n    SET_CABECERA_COMPRA(state, cabecera_compras){\n        state.cabecera_compras = cabecera_compras;\n    },\n    \n    SET_LISTA_COMPRAS(state, {NroFactura, CodigoProducto, Descripcion, Cantidad, Precio, SubTotal}){\n        let productInCompras = state.listaCompras.find(item =>{\n            return item.CodigoProducto === CodigoProducto;\n        });\n        if (productInCompras) {\n            productInCompras.Cantidad += Cantidad;\n            return;\n        } \n        state.listaCompras.push({\n            NroFactura, \n            CodigoProducto, \n            Descripcion, \n            Cantidad, \n            Precio,\n            SubTotal\n        });\n    },\n\n    SET_MENSAJE(state, mensaje){\n        state.mensaje = mensaje;\n    },\n\n    LIMPIAR_COMPRAS(state){\n        state.cabecera_compras = state.Limpiar_cabecera_compras;\n    }\n};\n\nexport const actions= {\n    insertCompras({commit}, configuracion){\n        console.log(\"Insert compras where: Cabecera: \", state.cabecera_compras, \", Detalle: \", state.listaCompras, \", Datos: \", configuracion);\n        axios\n            .post(\"compras/guardar\", {cabecera_compras: state.cabecera_compras, detalle_compras: state.listaCompras}, configuracion)\n            .then((result) => {\n                commit(\"SET_MENSAJE\", result.data.mensaje);\n                state.listaCompras = [];\n                commit(\"LIMPIAR_COMPRAS\");\n            }).catch((err) => {\n                console.log(\"error al tratar de registrar compras: \", err);\n                mensaje = \"error al tratar de registrar compras: \", err;\n                commit(\"SET_MENSAJE\", mensaje);\n            });\n    },\n\n    addItemToCompras({commit}, {NumeroFactura, CodigoProducto, Descripcion, Cantidad, Precio, subTotal}){\n        commit('SET_LISTA_COMPRAS', {NumeroFactura, CodigoProducto, Descripcion, Cantidad, Precio, subTotal});\n        console.log(\"Lista de compras: \", state.listaCompras);\n    }\n};\n\nexport const getters={\n    totalCompras: state =>{\n        state.cabecera_compras.Total = 0;\n        state.listaCompras.forEach(element => {\n            state.cabecera_compras.Total += element.Precio * element.Cantidad;\n        });\n        return state.cabecera_compras.Total;\n    }\n};"]}]}